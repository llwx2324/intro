[{"title":"Gemini CLIæ— æ³•ç™»å½•çš„é—®é¢˜","url":"/intro/2025/11/03/Gemini%20CLI%E6%97%A0%E6%B3%95%E7%99%BB%E5%BD%95%E7%9A%84%E9%97%AE%E9%A2%98/","content":"\n\nä»¥ä¸‹æ˜¯æˆ‘æˆåŠŸç™»å…¥çš„è¿‡ç¨‹ï¼š\nåˆæ­¥æ£€æŸ¥\næˆ‘å·²å¼€å¯ Clash çš„ TUN æ¨¡å¼ï¼Œå¹¶é…ç½®äº†ç›¸å…³ç¯å¢ƒå˜é‡ã€‚\n\nä¸ºäº†éªŒè¯ä»£ç†æ˜¯å¦ç”Ÿæ•ˆï¼Œæˆ‘åœ¨ç®¡ç†å‘˜æƒé™çš„ PowerShell ä¸­æ‰§è¡Œ netsh winhttp show proxyï¼Œå‘ç°è¾“å‡ºä»ä¸º ç›´æ¥è®¿é—®ï¼ˆæ²¡æœ‰ä»£ç†æœåŠ¡å™¨ï¼‰ï¼Œè¯´æ˜ç³»ç»Ÿä»£ç†æœªæ­£ç¡®è®¾ç½®ã€‚æ‰‹åŠ¨é…ç½®ä»£ç†\näºæ˜¯ï¼Œæˆ‘é€šè¿‡å‘½ä»¤ netsh winhttp set proxy 127.0.0.1:7890 æ‰‹åŠ¨è®¾ç½®äº† WinHTTP ä»£ç†ã€‚å†æ¬¡æ‰§è¡Œ netsh winhttp show proxyï¼Œç¡®è®¤ä»£ç†å·²ç”Ÿæ•ˆï¼šä»£ç†æœåŠ¡å™¨: 127.0.0.1:7890ç»•è¿‡åˆ—è¡¨: (æ— )ç»“æœ\nå®Œæˆä»£ç†é…ç½®åï¼Œé‡æ–°å¯åŠ¨ Geminiï¼Œé—®é¢˜è§£å†³ï¼ŒæœåŠ¡æˆåŠŸè¿è¡Œã€‚\n"},{"title":"Dockerå¸¸ç”¨å‘½ä»¤","url":"/intro/2025/10/30/Docker%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%B8%85%E5%8D%95/","content":"\n\né€‚ç”¨äº CentOS 7 &#x2F; Ubuntu &#x2F; Mac &#x2F; Windows ç­‰ç¯å¢ƒDocker ç‰ˆæœ¬ï¼š18.x ~ 27.x é€šç”¨\n\n\nğŸš€ ä¸€ã€é•œåƒç®¡ç†ï¼ˆImagesï¼‰\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\ndocker images\næŸ¥çœ‹æœ¬åœ°é•œåƒ\n\n\ndocker search nginx\nåœ¨ Docker Hub æœç´¢é•œåƒ\n\n\ndocker pull nginx\næ‹‰å–é•œåƒ\n\n\ndocker pull nginx:1.25\næ‹‰å–æŒ‡å®šç‰ˆæœ¬é•œåƒ\n\n\ndocker rmi nginx\nåˆ é™¤é•œåƒ\n\n\ndocker rmi -f &lt;IMAGE_ID&gt;\nå¼ºåˆ¶åˆ é™¤é•œåƒ\n\n\ndocker image prune\nåˆ é™¤æœªä½¿ç”¨é•œåƒ\n\n\ndocker save -o nginx.tar nginx\nå¯¼å‡ºé•œåƒåˆ°æ–‡ä»¶\n\n\ndocker load -i nginx.tar\nä»æ–‡ä»¶å¯¼å…¥é•œåƒ\n\n\ndocker tag nginx myrepo/nginx:latest\nç»™é•œåƒæ‰“æ ‡ç­¾\n\n\n\nğŸ§± äºŒã€å®¹å™¨ç®¡ç†ï¼ˆContainersï¼‰\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\ndocker ps\næŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨\n\n\ndocker ps -a\næŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢çš„ï¼‰\n\n\ndocker run -d --name web nginx\nè¿è¡Œå®¹å™¨ï¼ˆåå°æ¨¡å¼ï¼‰\n\n\ndocker run -it --name test ubuntu /bin/bash\nå¯åŠ¨äº¤äº’å¼å®¹å™¨\n\n\ndocker exec -it web /bin/bash\nè¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨\n\n\ndocker stop web\nåœæ­¢å®¹å™¨\n\n\ndocker start web\nå¯åŠ¨å®¹å™¨\n\n\ndocker restart web\né‡å¯å®¹å™¨\n\n\ndocker rm web\nåˆ é™¤å®¹å™¨\n\n\ndocker rm -f $(docker ps -aq)\nåˆ é™¤æ‰€æœ‰å®¹å™¨\n\n\ndocker logs web\næŸ¥çœ‹å®¹å™¨æ—¥å¿—\n\n\ndocker logs -f web\nå®æ—¶æŸ¥çœ‹æ—¥å¿—\n\n\ndocker inspect web\næŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯\n\n\ndocker top web\næŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹\n\n\ndocker stats\næŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µï¼ˆCPUã€å†…å­˜ç­‰ï¼‰\n\n\ndocker rename old new\né‡å‘½åå®¹å™¨\n\n\n\nğŸŒ ä¸‰ã€ç½‘ç»œç®¡ç†ï¼ˆNetworksï¼‰\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\ndocker network ls\næŸ¥çœ‹æ‰€æœ‰ç½‘ç»œ\n\n\ndocker network inspect bridge\næŸ¥çœ‹ç½‘ç»œè¯¦æƒ…\n\n\ndocker network create mynet\nåˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ\n\n\ndocker network rm mynet\nåˆ é™¤ç½‘ç»œ\n\n\ndocker network connect mynet web\nå°†å®¹å™¨è¿æ¥åˆ°ç½‘ç»œ\n\n\ndocker network disconnect mynet web\nå°†å®¹å™¨ä»ç½‘ç»œæ–­å¼€\n\n\ndocker network prune\nåˆ é™¤æœªä½¿ç”¨çš„ç½‘ç»œ\n\n\n\nğŸ“¦ å››ã€æ•°æ®å·ç®¡ç†ï¼ˆVolumesï¼‰\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\ndocker volume ls\næŸ¥çœ‹æ‰€æœ‰æ•°æ®å·\n\n\ndocker volume create mydata\nåˆ›å»ºæ•°æ®å·\n\n\ndocker volume inspect mydata\næŸ¥çœ‹æ•°æ®å·è¯¦æƒ…\n\n\ndocker volume rm mydata\nåˆ é™¤æ•°æ®å·\n\n\ndocker volume prune\nåˆ é™¤æœªä½¿ç”¨æ•°æ®å·\n\n\ndocker run -v mydata:/data nginx\nè¿è¡Œå®¹å™¨å¹¶æŒ‚è½½æ•°æ®å·\n\n\ndocker run -v /home/user/www:/usr/share/nginx/html nginx\næŒ‚è½½å®¿ä¸»æœºç›®å½•\n\n\n\nğŸ§° äº”ã€æ„å»ºä¸ç®¡ç†é•œåƒï¼ˆBuildï¼‰\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\ndocker build -t myapp:1.0 .\næ ¹æ® Dockerfile æ„å»ºé•œåƒ\n\n\ndocker commit &lt;CONTAINER_ID&gt; myimage:v1\nä»å®¹å™¨ç”Ÿæˆæ–°é•œåƒ\n\n\ndocker history myimage:v1\næŸ¥çœ‹é•œåƒæ„å»ºå†å²\n\n\ndocker image ls\næŸ¥çœ‹æ‰€æœ‰é•œåƒ\n\n\ndocker image rm myimage:v1\nåˆ é™¤é•œåƒ\n\n\n\nğŸ–§ å…­ã€Docker Composeï¼ˆå¤šå®¹å™¨ç¼–æ’ï¼‰\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\ndocker-compose up -d\nå¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰\n\n\ndocker-compose down\nåœæ­¢å¹¶åˆ é™¤å®¹å™¨ã€ç½‘ç»œ\n\n\ndocker-compose ps\næŸ¥çœ‹ Compose ç®¡ç†çš„å®¹å™¨\n\n\ndocker-compose logs -f\næŸ¥çœ‹æœåŠ¡æ—¥å¿—\n\n\ndocker-compose restart\né‡å¯æœåŠ¡\n\n\ndocker-compose build\né‡æ–°æ„å»ºé•œåƒ\n\n\n\nğŸ§¹ ä¸ƒã€ç³»ç»Ÿä¸èµ„æºæ¸…ç†\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\ndocker system df\næŸ¥çœ‹ç£ç›˜å ç”¨\n\n\ndocker system prune\næ¸…ç†æœªä½¿ç”¨èµ„æº\n\n\ndocker system prune -a\næ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒã€å®¹å™¨ã€ç½‘ç»œç­‰\n\n\ndocker info\næŸ¥çœ‹ Docker ç³»ç»Ÿä¿¡æ¯\n\n\ndocker version\næŸ¥çœ‹ Docker ç‰ˆæœ¬ä¿¡æ¯\n\n\n\nğŸ”’ å…«ã€Docker æœåŠ¡ç®¡ç†ï¼ˆCentOS 7ï¼‰\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\nsystemctl start docker\nå¯åŠ¨ Docker æœåŠ¡\n\n\nsystemctl stop docker\nåœæ­¢ Docker æœåŠ¡\n\n\nsystemctl restart docker\né‡å¯ Docker\n\n\nsystemctl status docker\næŸ¥çœ‹ Docker çŠ¶æ€\n\n\nsystemctl enable docker\nè®¾ç½®å¼€æœºè‡ªå¯\n\n\nsystemctl disable docker\nå–æ¶ˆå¼€æœºè‡ªå¯\n\n\n\nğŸ§­ ä¹ã€è°ƒè¯•ä¸å…¶ä»–å‘½ä»¤\n\n\nå‘½ä»¤\nè¯´æ˜\n\n\n\ndocker inspect &lt;ID&gt;\næŸ¥çœ‹è¯¦ç»† JSON ä¿¡æ¯\n\n\ndocker exec -it &lt;å®¹å™¨&gt; bash\nè¿›å…¥å®¹å™¨äº¤äº’ç»ˆç«¯\n\n\ndocker cp web:/usr/share/nginx/html ./backup\nä»å®¹å™¨æ‹·è´æ–‡ä»¶åˆ°å®¿ä¸»æœº\n\n\ndocker cp ./index.html web:/usr/share/nginx/html/\nä»å®¿ä¸»æœºæ‹·è´æ–‡ä»¶è¿›å®¹å™¨\n\n\ndocker diff web\næŸ¥çœ‹å®¹å™¨æ–‡ä»¶ç³»ç»Ÿçš„å˜åŠ¨\n\n\ndocker events\nç›‘å¬ Docker å®æ—¶äº‹ä»¶\n\n\ndocker update --restart=always web\nè®¾ç½®å®¹å™¨è‡ªåŠ¨é‡å¯ç­–ç•¥\n\n\n\nğŸ’¡ åã€å¿«é€Ÿæ¸…ç†å‘½ä»¤åˆé›†# åˆ é™¤æ‰€æœ‰å·²é€€å‡ºå®¹å™¨\ndocker rm $(docker ps -aq -f status=exited)\n\n# åˆ é™¤æ‰€æœ‰æ‚¬ç©ºé•œåƒ\ndocker rmi $(docker images -q -f dangling=true)\n\n# åˆ é™¤æœªä½¿ç”¨ç½‘ç»œã€å·ã€é•œåƒã€å®¹å™¨\ndocker system prune -a -f\n\n"},{"title":"Streamæµ","url":"/intro/2025/10/19/Stream%E6%B5%81/","content":"ğŸ§© ä¸€ã€Stream æ˜¯ä»€ä¹ˆï¼Ÿ\nStreamï¼ˆæµï¼‰ æ˜¯å¯¹é›†åˆï¼ˆæˆ–æ•°ç»„ï¼‰ä¸­å…ƒç´ çš„ä¸€ç§â€é«˜çº§éå†ä¸å¤„ç†æ–¹å¼â€ã€‚\n\nå®ƒä¸æ˜¯é›†åˆæœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªç”¨æ¥æè¿°â€æ•°æ®æµåŠ¨å’Œæ“ä½œâ€çš„æŠ½è±¡å±‚ã€‚\n è¿‡æ»¤ï¼ˆfilterï¼‰â†’ è½¬æ¢ï¼ˆmapï¼‰â†’ æ”¶é›†ç»“æœï¼ˆcollectï¼‰ è¿™ä¸€æ¡é“¾å¼è°ƒç”¨å°±æ˜¯å…¸å‹çš„ æµå¼ç¼–ç¨‹ï¼ˆStream APIï¼‰ã€‚\n\nğŸ§­ äºŒã€Stream çš„æ ¸å¿ƒè®¾è®¡ç†å¿µStream çš„ä½¿ç”¨åˆ†ä¸º ä¸‰æ­¥èµ°ï¼š\n\n\n\né˜¶æ®µ\nè¯´æ˜\nå…³é”®æ–¹æ³•\n\n\n\n1ï¸âƒ£ åˆ›å»ºæµ\nä»é›†åˆã€æ•°ç»„ç­‰åˆ›å»ºæµ\nstream()ã€of()\n\n\n2ï¸âƒ£ ä¸­é—´æ“ä½œ\nå¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œå¤„ç†ï¼ˆä¸ä¼šç«‹å³æ‰§è¡Œï¼‰\nfilter()ã€map()ã€sorted()ã€distinct()\n\n\n3ï¸âƒ£ ç»ˆæ­¢æ“ä½œ\næ‰§è¡Œæœ€ç»ˆè®¡ç®—ï¼ˆè§¦å‘æ•´ä¸ªæµçš„æ‰§è¡Œï¼‰\ncollect()ã€count()ã€forEach()\n\n\nâš ï¸ ä¸­é—´æ“ä½œæ˜¯æƒ°æ€§çš„ï¼š åªæœ‰æ‰§è¡Œç»ˆæ­¢æ“ä½œæ—¶ï¼Œæµæ‰ä¼šçœŸæ­£éå†æ•°æ®ã€‚\n\nğŸ§® ä¸‰ã€Stream å¸¸ç”¨æ“ä½œç³»ç»Ÿæ•´ç†ï¼ˆ1ï¼‰åˆ›å»ºæµList&lt;String&gt; list = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);// ä»é›†åˆåˆ›å»ºStream&lt;String&gt; s1 = list.stream();// ä»æ•°ç»„åˆ›å»ºStream&lt;Integer&gt; s2 = Arrays.stream(new Integer[]&#123;1, 2, 3&#125;);// é™æ€æ–¹æ³•åˆ›å»ºStream&lt;Double&gt; s3 = Stream.of(3.14, 2.71, 1.0);// æ— é™æµï¼ˆéœ€é™åˆ¶ï¼‰Stream&lt;Integer&gt; s4 = Stream.iterate(1, n -&gt; n + 1).limit(10);\n\n\nï¼ˆ2ï¼‰ä¸­é—´æ“ä½œï¼ˆä¸ä¼šç«‹åˆ»æ‰§è¡Œï¼‰\n\n\næ–¹æ³•\nä½œç”¨\nç¤ºä¾‹\n\n\n\nfilter(Predicate)\nè¿‡æ»¤å…ƒç´ \n.filter(x -&gt; x &gt; 0)\n\n\nmap(Function)\nå…ƒç´ æ˜ å°„ï¼ˆè½¬æ¢ï¼‰\n.map(String::length)\n\n\nflatMap(Function)\næ‰å¹³åŒ–å¤šä¸ªæµ\n.flatMap(List::stream)\n\n\ndistinct()\nå»é‡\n.distinct()\n\n\nsorted()\næ’åº\n.sorted(Comparator.naturalOrder())\n\n\npeek(Consumer)\nè°ƒè¯•æŸ¥çœ‹\n.peek(System.out::println)\n\n\nlimit(n)\næˆªå–å‰ n ä¸ª\n.limit(10)\n\n\nskip(n)\nè·³è¿‡å‰ n ä¸ª\n.skip(5)\n\n\n\nï¼ˆ3ï¼‰ç»ˆæ­¢æ“ä½œï¼ˆè§¦å‘æ‰§è¡Œï¼‰\n\n\næ–¹æ³•\nåŠŸèƒ½\n\n\n\ncollect()\næ”¶é›†ç»“æœï¼ˆé€šå¸¸è½¬å›é›†åˆï¼‰\n\n\ncount()\nç»Ÿè®¡æ•°é‡\n\n\nforEach()\néå†è¾“å‡º\n\n\nfindFirst() &#x2F; findAny()\næŸ¥æ‰¾å…ƒç´ \n\n\nallMatch() &#x2F; anyMatch() &#x2F; noneMatch()\nåŒ¹é…åˆ¤æ–­\n\n\nreduce()\nå½’çº¦æ±‚å’Œã€åˆå¹¶æ“ä½œ\n\n\n\nğŸš€ å››ã€Stream çš„é«˜çº§ç”¨æ³•ï¼ˆ1ï¼‰map vs flatMap// map: ä¸€å¯¹ä¸€List&lt;String&gt; list = List.of(&quot;a,b&quot;, &quot;c,d&quot;);list.stream()    .map(s -&gt; s.split(&quot;,&quot;)) // Stream&lt;String[]&gt;    .collect(Collectors.toList());// flatMap: ä¸€å¯¹å¤šï¼Œæ‰“å¹³list.stream()    .flatMap(s -&gt; Arrays.stream(s.split(&quot;,&quot;))) // Stream&lt;String&gt;    .collect(Collectors.toList()); // [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;]\n\n\nï¼ˆ2ï¼‰å¹¶è¡Œæµï¼ˆparallelStreamï¼‰åˆ©ç”¨å¤šæ ¸ CPU æé«˜æ€§èƒ½ï¼š\nList&lt;Integer&gt; nums = IntStream.rangeClosed(1, 1000000).boxed().toList();long sum = nums.parallelStream()               .mapToLong(Long::valueOf)               .sum();\n\nâš ï¸ å¹¶è¡Œæµé€‚åˆæ— å…±äº«èµ„æºã€è®¡ç®—é‡å¤§çš„åœºæ™¯ï¼Œå¦åˆ™åè€Œæ›´æ…¢ã€‚\n\nğŸ“¦ äº”ã€collect çš„å¸¸è§ç”¨æ³•List&lt;String&gt; names = users.stream()    .map(User::getName)    .collect(Collectors.toList());Set&lt;String&gt; set = list.stream().collect(Collectors.toSet());Map&lt;Integer, String&gt; map = users.stream()    .collect(Collectors.toMap(User::getId, User::getName));Double avg = list.stream()    .collect(Collectors.averagingInt(String::length));\n\n\nğŸ§  å…­ã€Stream çš„ç‰¹æ€§æ€»ç»“\n\n\nç‰¹æ€§\nè¯´æ˜\n\n\n\nä¸å­˜å‚¨æ•°æ®\nåªå¯¹åŸé›†åˆçš„å…ƒç´ è¿›è¡Œè®¡ç®—\n\n\nä¸ä¿®æ”¹æºæ•°æ®\næ“ä½œç»“æœæ˜¯æ–°çš„æµ\n\n\næƒ°æ€§æ±‚å€¼\nä¸­é—´æ“ä½œä¸ä¼šç«‹åˆ»æ‰§è¡Œ\n\n\nå¯å¹¶è¡Œ\nå¯åˆ©ç”¨å¤šæ ¸å¹¶è¡Œè®¡ç®—\n\n\n\nâœ… ä¸ƒã€å®Œæ•´å®æˆ˜ä¾‹å­List&lt;User&gt; users = List.of(    new User(&quot;Tom&quot;, 20),    new User(&quot;Jerry&quot;, 22),    new User(&quot;Spike&quot;, 19));List&lt;String&gt; result = users.stream()    .filter(u -&gt; u.getAge() &gt;= 20)     // è¿‡æ»¤    .sorted(Comparator.comparing(User::getAge)) // æ’åº    .map(User::getName)                // æå–åå­—    .collect(Collectors.toList());     // æ”¶é›†ç»“æœ\n\nè¾“å‡ºï¼š\n[&quot;Tom&quot;, &quot;Jerry&quot;]\n\n\nğŸ§© å…«ã€ä¸å‡½æ•°å¼æ¥å£çš„å…³ç³»Stream ä¸­å¤§é‡ä½¿ç”¨ Java 8 çš„å‡½æ•°å¼æ¥å£ï¼š\n\n\n\næ“ä½œ\nå¯¹åº”æ¥å£\nå‚æ•°\nè¿”å›å€¼\n\n\n\nfilter()\nPredicate&lt;T&gt;\nT â†’ boolean\n\n\n\nmap()\nFunction&lt;T, R&gt;\nT â†’ R\n\n\n\nforEach()\nConsumer&lt;T&gt;\nT â†’ void\n\n\n\nsorted()\nComparator&lt;T&gt;\n(T, T) â†’ int\n\n\n\n","tags":["Java","Stream","å‡½æ•°å¼ç¼–ç¨‹"]},{"title":"è™šæ‹Ÿæœºä¸­çš„ MySQL 3306ç«¯å£è¢«å ç”¨ã€mysql Docker å®¹å™¨æ— æ³•è‡ªå¯","url":"/intro/2025/10/21/%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E7%9A%84%20MySQL%203306%E7%AB%AF%E5%8F%A3%E8%A2%AB%E5%8D%A0%E7%94%A8%E3%80%81mysql%20Docker%20%E5%AE%B9%E5%99%A8%E6%97%A0%E6%B3%95%E8%87%AA%E5%90%AF/","content":"\né—®é¢˜èƒŒæ™¯\nè™šæ‹Ÿæœºä¸Šæ‰‹åŠ¨å®‰è£…çš„ MySQL (/usr/local/mysql/bin/mysqld) å ç”¨ 3306\nkill PID æ— æ•ˆï¼ˆå¯ä»¥å…ˆè¯•è¯•æ€æ­»å ç”¨3306ç«¯å£çš„è¿›ç¨‹ï¼‰ï¼Œå› ä¸ºæœ‰å®ˆæŠ¤è¿›ç¨‹ mysqld_safe ä¸æ–­é‡å¯\nç³»ç»Ÿæ²¡æœ‰ systemd mysqld æœåŠ¡\nDocker å®¹å™¨å·²å­˜åœ¨ä½†æœªå¯åŠ¨ï¼Œéœ€è¦ç«¯å£å¹²å‡€å¹¶è®¾ç½®å¼€æœºè‡ªå¯\n\n\nå®Œæ•´è§£å†³æ­¥éª¤æ­¥éª¤ 1ï¼šæ’æŸ¥å ç”¨ç«¯å£sudo lsof -i:3306ps -fp &lt;PID&gt;ï¼ˆåœ¨è¿™ä¹‹å‰å¯ä»¥å…ˆè¯•è¯•æ€æ­»å ç”¨3306ç«¯å£çš„è¿›ç¨‹ï¼‰\n\n\næ‰¾åˆ° mysqld è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹ï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰\nç¡®è®¤è·¯å¾„ï¼Œä¾‹å¦‚ /usr/local/mysql/bin/mysqld\n\n\næ­¥éª¤ 2ï¼šåœæ­¢æ‰€æœ‰è™šæ‹Ÿæœºè‡ªå¸¦ MySQL è¿›ç¨‹sudo pkill -f mysqld_safesudo pkill -f /usr/local/mysql/bin/mysqld\n\n\nç¡®è®¤ç«¯å£å·²é‡Šæ”¾ï¼š\n\nsudo lsof -i:3306\n\n\nè¾“å‡ºä¸ºç©ºè¡¨ç¤ºå¹²å‡€\n\n\næ­¥éª¤ 3ï¼šç¦æ­¢è™šæ‹Ÿæœºè‡ªå¸¦æ—§ MySQL å¼€æœºå¯åŠ¨\nç¦ç”¨ init è„šæœ¬ï¼š\n\nsudo chkconfig mysql off\n\n\næ£€æŸ¥ rc.local æˆ– cronï¼š\n\nsudo cat /etc/rc.localcrontab -lsudo crontab -l\n\n\næ³¨é‡Šæ‰ä»»ä½•å¯åŠ¨ MySQL çš„å‘½ä»¤\ncron ä»»åŠ¡å¦‚æœ‰ä¹Ÿéœ€åˆ é™¤\n\n\næ­¥éª¤ 4ï¼šè®¾ç½® Docker å®¹å™¨å¼€æœºè‡ªå¯\nå¯¹å·²æœ‰å®¹å™¨è®¾ç½®è‡ªå¯ï¼š\n\ndocker update --restart unless-stopped mysql\n\n\nå¯åŠ¨å®¹å™¨ï¼š\n\ndocker start mysql\n\n\nè¿™æ · mysqlå®¹å™¨ ä¼šå ç”¨ 3306ï¼Œå¹¶ä¸”å®¹å™¨ä¼šéšç³»ç»Ÿé‡å¯è‡ªåŠ¨å¯åŠ¨\n\n\næ­¥éª¤ 5ï¼šç¡®ä¿ Docker æœåŠ¡å¼€æœºå¯åŠ¨sudo systemctl enable dockersudo systemctl start docker\n\n\nDocker æœåŠ¡å¿…é¡»å¼€æœºå¯åŠ¨ï¼Œå®¹å™¨è‡ªå¯æ‰æœ‰æ•ˆ\n\n\næ­¥éª¤ 6ï¼šéªŒè¯\næŸ¥çœ‹å®¹å™¨çŠ¶æ€ï¼š\n\ndocker ps\n\n\nç¡®è®¤å®¹å™¨çŠ¶æ€æ˜¯ Up\n\n\né‡å¯è™šæ‹Ÿæœºï¼š\n\nsudo reboot\n\n\nå†æ¬¡æŸ¥çœ‹å®¹å™¨ï¼š\n\ndocker ps\n\n\nå¦‚æœå®¹å™¨ Up â†’ å¼€æœºè‡ªå¯æˆåŠŸ\n\n\nå…³é”®æ€»ç»“\næ‰‹åŠ¨å®‰è£… MySQL é€šè¿‡ mysqld_safe å®ˆæŠ¤è¿›ç¨‹ä¸æ–­é‡å¯ â†’ å• kill æ— æ•ˆ\n/etc/init.d/mysql è„šæœ¬å¯èƒ½å¼€æœºå¯åŠ¨æ—§ MySQL â†’ chkconfig mysql off ç¦ç”¨\nå½»åº•é‡Šæ”¾ç«¯å£åï¼Œå†å¯åŠ¨ Docker MySQL\nDocker å®¹å™¨ä½¿ç”¨ --restart unless-stopped + Docker æœåŠ¡å¼€æœºè‡ªå¯ â†’ å®¹å™¨éšç³»ç»Ÿé‡å¯è‡ªåŠ¨å¯åŠ¨\n\n\n"},{"title":"SpringBootçš„è‡ªåŠ¨è£…é…","url":"/intro/2025/10/26/SpringBoot%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/","content":"\nğŸŒ± ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…Spring Boot çš„è‡ªåŠ¨è£…é…å°±æ˜¯ï¼š\n\næ ¹æ®ä½ å¼•å…¥çš„ä¾èµ–ï¼Œè‡ªåŠ¨å¸®ä½ æŠŠç›¸å…³çš„ Bean é…å¥½ï¼Œä¸ç”¨æ‰‹åŠ¨å†™é…ç½®ã€‚\n\nä¾‹å¦‚ï¼š ä½ å¼•å…¥äº† spring-boot-starter-webï¼ŒSpring Boot å°±ä¼šè‡ªåŠ¨å¸®ä½ é…ç½®ï¼š\n\nå†…åµŒ Tomcat\nDispatcherServlet\nMVC ç›¸å…³çš„ Bean\n\nä½ ä»€ä¹ˆéƒ½ä¸ç”¨å†™ï¼Œç³»ç»Ÿå°±èƒ½è·‘èµ·æ¥ã€‚\n\nâš™ï¸ æ ¸å¿ƒåŸç†\nå¯åŠ¨ç±»ä¸Šçš„æ³¨è§£ï¼š\n@SpringBootApplication\n\nå®ƒåŒ…å«ï¼š\n\n@ComponentScanï¼ˆæ‰«æç»„ä»¶ï¼‰\n@EnableAutoConfigurationï¼ˆå¼€å¯è‡ªåŠ¨é…ç½®ï¼‰\n\n\n@EnableAutoConfiguration ä¼šå»åŠ è½½æ‰€æœ‰é…ç½®ç±» ï¼ˆè¿™äº›ç±»éƒ½å†™åœ¨å„ä¸ª jar åŒ…é‡Œçš„ META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports æ–‡ä»¶ä¸­ï¼‰\n\nSpring Boot ä¼šåˆ¤æ–­ï¼š\n\nå“ªäº›ç±»åœ¨ç±»è·¯å¾„é‡Œå­˜åœ¨\nå“ªäº› Bean ä½ è‡ªå·±æ²¡é…\nå“ªäº›é…ç½®é¡¹åœ¨ application.yml é‡Œå®šä¹‰äº†\n\nç„¶åâ€œæœ‰æ¡ä»¶â€åœ°åŠ è½½å¯¹åº”çš„é…ç½®ã€‚\n\n\n\nğŸ¯ ä¸¾ä¸ªä¾‹å­DataSourceAutoConfigurationï¼ˆæ•°æ®åº“è‡ªåŠ¨é…ç½®ç±»ï¼‰ï¼š\n@Configuration@ConditionalOnClass(DataSource.class)@ConditionalOnMissingBean(DataSource.class)public class DataSourceAutoConfiguration &#123;    @Bean    public DataSource dataSource() &#123; ... &#125;&#125;\n\næ„æ€æ˜¯ï¼š\n\nåªæœ‰é¡¹ç›®é‡Œæœ‰ DataSource ç›¸å…³ç±»ï¼Œ\nè€Œä¸”ä½ æ²¡è‡ªå·±å†™ DataSource Beanï¼Œ\nå®ƒæ‰è‡ªåŠ¨å¸®ä½ åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ã€‚\n\n\nğŸ’¡ å°ç»“\n\n\nå…³é”®ç‚¹\nå«ä¹‰\n\n\n\n@SpringBootApplication\nå¯åŠ¨å…¥å£\n\n\n@EnableAutoConfiguration\nå¯åŠ¨è‡ªåŠ¨é…ç½®åŠŸèƒ½\n\n\n@ConditionalOnXXX\næ¡ä»¶åˆ¤æ–­æ˜¯å¦ç”Ÿæ•ˆ\n\n\nspring.factories &#x2F; AutoConfiguration.imports\nå­˜æ”¾æ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»åˆ—è¡¨\n\n\n\n"}]